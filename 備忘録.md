#### $\mathtt{lower\_ bound},\,\mathtt{upper\_ bound}$の使い方

任意の完全順序集合$(X,\le)$の有限部分集合$M$をとり、$N:=\# M$とする。
$M$の各要素を$M_0,\dots,M_{N-1}\,(M_0\le M_1\le\dots\le M_{N-1})$と表す。
演算子$\mathtt{lower\_ bound},\,\mathtt{upper\_ bound}$を、
$$
\begin{aligned}
\mathtt{lower\_ bound}(M;x)&:=\min\{i\mid x\le M_i\}\cup\{N\},\\
\mathtt{upper\_ bound}(M;x)&:=\min\{i\mid x <  M_i\}\cup\{N\}.
\end{aligned}
$$と定める。

----------
###### 補題
> $$
> \begin{aligned}
> \mathtt{lower\_ bound}(M;x)&=\#\{i\mid M_i <  x\},\\
> \mathtt{upper\_ bound}(M;x)&=\#\{i\mid M_i\le x\}.
> \end{aligned}
> $$

> $$
> \begin{aligned}
> \#\{i\mid M_i\ge x\}&=N-\mathtt{lower\_ bound}(M;x),\\
> \#\{i\mid M_i >  x\}&=N-\mathtt{upper\_ bound}(M;x).
> \end{aligned}
> $$

> $$
> \begin{aligned}
> \mathtt{lower\_ bound}(M;x)-1&=\max\{i\mid M_i <  x\}\cup\{-1\},\\
> \mathtt{upper\_ bound}(M;x)-1&=\max\{i\mid M_i\le x\}\cup\{-1\}.
> \end{aligned}
> $$

いずれも、$M_{i-1}<x\le M_i,\; M_{i-1}\le x<M_i$の場合を考えればよい。
